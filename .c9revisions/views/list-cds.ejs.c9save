{"ts":1367553116860,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<!DOCTYPE html>\n<html>\n  <head>\n    <title>Election Data: Parties</title>\n    <link rel=\"stylesheet\" href=\"/style.css\">\n  </head>\n  <body>\n    <a href=\"/\"><h1>Election Data</h1></a>\n    <% if (items.length > 0) { %>\n    <ul>\n      <% items.forEach(function(item) { %>\n      <li><a href=\"/parties/<%=item._id%>\"><%=item.name%></a></li>\n      <% }); %>\n    </ul>\n    <% } else { %>\n    <div>No parties have been added.</div>\n    <% } %>\n    <div class=\"control\">\n      <h2>Add or update a new political party</h2>\n      <script>\n      function onFormSubmit(form) {\n        form.action = form.action + form.elements['item[id]'].value;\n        console.log(form.action);\n        return true;\n      } \n      </script>\n      <form method=\"post\" action=\"/parties/\"\n            onsubmit=\"return onFormSubmit(this);\">\n        <!-- The line above dynamically sets the PUT destination when the -->\n        <!-- form is submitted. -------------------------------------------->\n        <input type=\"hidden\" name=\"_method\" value=\"put\">\n        <!-- The line above tells the server to treat this as a PUT request. -->\n        <label>Party ID<br>\n          (lowercase letters only, no spaces):\n          <input name=\"item[id]\" type=\"text\" pattern=\"[a-z]+\" required\n                 placeholder=\"green\">\n        </label>\n        <label>Party name: \n          <input name=\"item[name]\" type=\"text\" required\n                 placeholder=\"The Green Party\">\n        </label>\n        <label>Party description:\n          <textarea name=\"item[description]\" cols=\"80\" rows=\"10\" \n                    placeholder=\"The Green Party of the United States of America emphasizes environmentalism, non-hierarchical participatory democracy, social justice, respect for diversity, peace and nonviolence.\"\n          ></textarea>\n        </label>\n        <button>Add or update</button>\n      </form>\n    </div>\n  </body>\n</html>\n"]],"start1":0,"start2":0,"length1":0,"length2":1889}]],"length":1889}
{"contributors":[],"silentsave":false,"ts":1367553958467,"patch":[[{"diffs":[[0," href=\"/"],[-1,"partie"],[1,"cd"],[0,"s/<%=ite"]],"start1":280,"start2":280,"length1":22,"length2":18},{"diffs":[[0,"ction=\"/"],[-1,"partie"],[1,"cd"],[0,"s/\"\n    "]],"start1":735,"start2":735,"length1":22,"length2":18}]],"length":1881,"saved":false}
{"contributors":[],"silentsave":false,"ts":1367646054880,"patch":[[{"diffs":[[0,"tle>"],[-1,"E"],[1,"CD Col"],[0,"lection"],[-1," Data: Partie"],[1,": All CD"],[0,"s</t"]],"start1":39,"start2":39,"length1":29,"length2":29},{"diffs":[[0,"<h1>"],[-1,"E"],[1,"CD Col"],[0,"lection"],[-1," Data"],[0,"</h1"]],"start1":155,"start2":155,"length1":21,"length2":21},{"diffs":[[0,">No "],[-1,"partie"],[1,"CD"],[0,"s ha"]],"start1":384,"start2":384,"length1":14,"length2":10},{"diffs":[[0,"new "],[-1,"political party"],[1,"CD"],[0,"</h2"]],"start1":479,"start2":479,"length1":23,"length2":10},{"diffs":[[0,"bel>"],[-1,"Party ID<br>\n          (lowercase letters only, no spaces):"],[1,"ISBN:<br>"],[0,"\n   "]],"start1":1088,"start2":1088,"length1":67,"length2":17},{"diffs":[[0," <label>"],[-1,"Party"],[1,"CD"],[0," name: \n"]],"start1":1235,"start2":1235,"length1":21,"length2":18}]],"length":1811,"saved":false}
{"contributors":[],"silentsave":false,"ts":1367867448195,"patch":[[{"diffs":[[0,"bel>"],[-1,"Party description:"],[1,"Artist: "],[0,"\n   "]],"start1":1385,"start2":1385,"length1":26,"length2":16},{"diffs":[[0,"       <"],[-1,"textarea"],[1,"input"],[0," name=\"i"]],"start1":1401,"start2":1401,"length1":24,"length2":21},{"diffs":[[0,"tem["],[-1,"description]\" cols=\"80\" rows=\"10\" \n   "],[1,"artist]\" type=\"text\" required\n"],[0,"    "]],"start1":1422,"start2":1422,"length1":46,"length2":38},{"diffs":[[0,"arty"],[-1," of the United States of America emphasizes environmentalism, non-hierarchical participatory democracy, social justice, respect for diversity, peace and nonviolence.\"\n          ></textarea"],[1,"\">\n        </label>\n                <label>Release Date: \n          <input name=\"item[date]\" type=\"text\" required\n                 placeholder=\"The Green Party\""],[0,">\n  "]],"start1":1497,"start2":1497,"length1":196,"length2":168}]],"length":1762,"saved":false}
{"ts":1367902309675,"patch":[[{"diffs":[[0,">\n    <a"],[1," rel=\"index\""],[0," href=\"/"]],"start1":137,"start2":137,"length1":16,"length2":28}]],"length":1774,"saved":false}
{"ts":1367903777849,"patch":[[{"diffs":[[0,"  <li><a"],[1," rel=\"cd\""],[0," href=\"/"]],"start1":284,"start2":284,"length1":16,"length2":25},{"diffs":[[0,"ss=\""],[-1,"control"],[1,"form"],[0,"\">\n "]],"start1":460,"start2":460,"length1":15,"length2":12},{"diffs":[[0,"  </script>\n"],[1,"      <div name=\"create-cd\">\n"],[0,"      <form "]],"start1":697,"start2":697,"length1":24,"length2":53},{"diffs":[[0,"</form>\n"],[1,"      </div>\n"],[0,"    </di"]],"start1":1772,"start2":1772,"length1":16,"length2":29}]],"length":1822,"saved":false}
{"ts":1367905475965,"patch":[[{"diffs":[[0,"n=\"["],[-1,"a-z"],[1,"0-9"],[0,"]+\" "]],"start1":1200,"start2":1200,"length1":11,"length2":11},{"diffs":[[0,"er=\""],[-1,"green"],[1,"0075596029629"],[0,"\">\n "]],"start1":1246,"start2":1246,"length1":13,"length2":21},{"diffs":[[0,"laceholder=\""],[-1,"The Green Par"],[1,"Heartbeat Ci"],[0,"ty\">\n       "]],"start1":1382,"start2":1382,"length1":37,"length2":36},{"diffs":[[0,"holder=\"The "],[-1,"Green Party"],[1,"Cars"],[0,"\">\n        <"]],"start1":1532,"start2":1532,"length1":35,"length2":28},{"diffs":[[0,"er=\""],[-1,"The Green Party"],[1,"1984"],[0,"\">\n "]],"start1":1688,"start2":1688,"length1":23,"length2":12}]],"length":1811,"saved":false}
{"ts":1367905863482,"patch":[[{"diffs":[[0,"e a "],[-1,"new "],[0,"CD</"]],"start1":493,"start2":493,"length1":12,"length2":8}]],"length":1807,"saved":false}
{"ts":1367905877756,"patch":[[{"diffs":[[0," <h2>Add or "],[-1,"u"],[1,"U"],[0,"pdate a CD</"]],"start1":476,"start2":476,"length1":25,"length2":25}]],"length":1807,"saved":false}
{"ts":1367936376781,"patch":[[{"diffs":[[0,"\n  <body"],[1," itemscope itemtype=\"http://schema.org/CollectionPage\""],[0,">\n    <a"]],"start1":129,"start2":129,"length1":16,"length2":70},{"diffs":[[0," <li"],[-1,"><a rel=\"cd"],[1," itemscope itemtype=\"http://schema.org/MusicAlbum\"><a rel=\"cd\" itemprop=\"name"],[0,"\" hr"]],"start1":339,"start2":339,"length1":19,"length2":85}]],"length":1927,"saved":false}
{"ts":1367936812544,"patch":[[{"diffs":[[0,"cAlbum\">"],[1,"\n      "],[0,"<a rel=\""]],"start1":386,"start2":386,"length1":16,"length2":23}]],"length":1934,"saved":false}
